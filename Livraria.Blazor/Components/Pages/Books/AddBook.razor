@page "/livros/novo-livro"
@rendermode InteractiveServer
@attribute [StreamRendering]

<PageTitle>Novo Livro</PageTitle>

@switch ( Status )
{
    case ResponseStatus.Loading:
        <ShowLoading />
        break;
    case ResponseStatus.Error:
        <ShowError Errors=@Errors />
        break;
    case ResponseStatus.Success:
        <ShowSuccess Message="Livro cadastrado com sucesso!" Books="@Response" />
        break;
    default:

        break;
}


@code {
    private EditBook? Book { get; set; }
    private ResponseStatus? Status { get; set; }
    private List<ViewBook> Response { get; set; } = [];
    private List<string> Errors { get; set; } = [];

    private void HandleResponseChange ( ViewBook Response )
        => this.Response.Add( Response );

    private void HandleStatusChange ( ResponseStatus? status )
        => Status = status;

    private void HandleErrorsChange ( List<string> errors )
        => Errors = errors;

}